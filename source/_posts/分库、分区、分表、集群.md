---
title: 分库、分区、分表、集群
date: 2018-04-10 21:58:45
categories: [数据库]
tags: [mysql]
---

## 分库

> 分库：把一些不同业务的表放到不同数据库，不同数据库还可以放到不同的服务器。

### 作用

减轻服务器的压力，增加数据库吞吐量。

## 分区

> 分区：mysql的一种技术设计，将一个表的数据分段在同一个服务器的多个物理位置存放。

表还是一个表，sql没有影响，业务层不用改。

### 作用

减轻数据库的负担，提高数据库效率，提高表的增删改查效率。

### 适用场景

表数据量大，访问量不大。

### 分区方式

+ range，范围
+ list，预定义列表
+ hash
+ key，hash模式的一种延伸
+ composite，复合模式，以上模式组合使用

### sql语句

range：

```mysql
create table range(   
  id int(11),   
  money int(11) unsigned not null,   
  date datetime
)partition by range(year(date))(   
partition p2007 values less than (2008),   
partition p2008 values less than (2009),   
partition p2009 values less than (2010),  
partition p2010 values less than maxvalue   
);
```

## 分表

> 分表：开发人员的物理设计，将一个大表按照一定规则分解成多张子表。

表拆分成多个表，sql有影响，业务层需要调整。

### 作用

减轻数据库的负担，提高数据库效率，提高表的增删改查效率。

### 适用场景

表数据量大，访问量大。

