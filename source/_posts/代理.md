---
title: 代理
date: 2018-02-03 17:53:20
categories: 服务端
tags: [server, proxy]
---

## 正向代理

### 概念

（正向）代理，意思是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端才能使用正向代理。

```
client -> 正向代理 -> internet -> server
```

### 作用

* 访问原来无法访问的资源，如google
* 可以做缓存，加速访问资源
* 对客户端访问授权，上网进行认证
* 代理可以记录用户访问记录（上网行为管理），对外隐藏用户信息

## 反向代理

### 概念

反向代理，是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

```
client -> internet -> 反向代理 -> servers
```

### 作用

* 可以缓存静态内容，当静态内容发生变化时，通过内部通知机制通知反向代理服务器缓存失效，需重新加载。
* 可以实现负载均衡。

## 总结

“正向”，“反向”是相对于人的感知来说的。
人能感受到的代理就是正向代理，人感受不到的代理就是反向代理。
